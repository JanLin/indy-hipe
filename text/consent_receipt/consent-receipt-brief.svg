<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentScriptType="application/ecmascript" contentStyleType="text/css" height="1671px" preserveAspectRatio="none" style="width:1716px;height:1671px;" version="1.1" viewBox="0 0 1716 1671" width="1716px" zoomAndPan="magnify"><defs><filter height="300%" id="fb7gfquxmeyz7" width="300%" x="-1" y="-1"><feGaussianBlur result="blurOut" stdDeviation="2.0"/><feColorMatrix in="blurOut" result="blurOut2" type="matrix" values="0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 .4 0"/><feOffset dx="4.0" dy="4.0" in="blurOut2" result="blurOut3"/><feBlend in="SourceGraphic" in2="blurOut3" mode="normal"/></filter></defs><g><rect fill="#ADD8E6" height="1656.7734" style="stroke: #A80036; stroke-width: 1.0;" width="492" x="4" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="191" x="154.5" y="16.5684">Alice (Data Subject / Holder)</text><rect fill="#FFFFE0" height="1656.7734" style="stroke: #A80036; stroke-width: 1.0;" width="577" x="530" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="308" x="664.5" y="16.5684">Meflix-DC Operator (Data Controller &amp; Issuer)</text><rect fill="#FFFFE0" height="1656.7734" style="stroke: #A80036; stroke-width: 1.0;" width="393" x="1109" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="314" x="1148.5" y="16.5684">Meflix-DP Operator (Data Processor &amp; Verifier)</text><rect fill="#FFFFE0" height="1656.7734" style="stroke: #A80036; stroke-width: 1.0;" width="124" x="1579" y="4"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="100" x="1591" y="16.5684">Sovrin Steward</text><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="31" x2="31" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="462" x2="462" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="557" x2="557" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1073" x2="1073" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1136" x2="1136" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1468" x2="1468" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1540" x2="1540" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1606" x2="1606" y1="106.7988" y2="1574.2852"/><line style="stroke: #A80036; stroke-width: 1.0; stroke-dasharray: 5.0,5.0;" x1="1669" x2="1669" y1="106.7988" y2="1574.2852"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="8" y="103.8457">Agent</text><ellipse cx="31.5" cy="33.3105" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31.5,41.3105 L31.5,68.3105 M18.5,49.3105 L44.5,49.3105 M31.5,68.3105 L18.5,83.3105 M31.5,68.3105 L44.5,83.3105 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="8" y="1586.8203">Agent</text><ellipse cx="31.5" cy="1599.7734" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M31.5,1607.7734 L31.5,1634.7734 M18.5,1615.7734 L44.5,1615.7734 M31.5,1634.7734 L18.5,1649.7734 M31.5,1634.7734 L44.5,1649.7734 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="433" y="71.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="440" y="91.8457">Wallet</text><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="433" y="1573.2852"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="440" y="1593.8203">Wallet</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="534" y="103.8457">Agent</text><ellipse cx="557.5" cy="33.3105" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M557.5,41.3105 L557.5,68.3105 M544.5,49.3105 L570.5,49.3105 M557.5,68.3105 L544.5,83.3105 M557.5,68.3105 L570.5,83.3105 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="534" y="1586.8203">Agent</text><ellipse cx="557.5" cy="1599.7734" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M557.5,1607.7734 L557.5,1634.7734 M544.5,1615.7734 L570.5,1615.7734 M557.5,1634.7734 L544.5,1649.7734 M557.5,1634.7734 L570.5,1649.7734 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="1044" y="71.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1051" y="91.8457">Wallet</text><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="1044" y="1573.2852"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1051" y="1593.8203">Wallet</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1113" y="103.8457">Agent</text><ellipse cx="1136.5" cy="33.3105" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1136.5,41.3105 L1136.5,68.3105 M1123.5,49.3105 L1149.5,49.3105 M1136.5,68.3105 L1123.5,83.3105 M1136.5,68.3105 L1149.5,83.3105 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1113" y="1586.8203">Agent</text><ellipse cx="1136.5" cy="1599.7734" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1136.5,1607.7734 L1136.5,1634.7734 M1123.5,1615.7734 L1149.5,1615.7734 M1136.5,1634.7734 L1123.5,1649.7734 M1136.5,1634.7734 L1149.5,1649.7734 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="1439" y="71.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1446" y="91.8457">Wallet</text><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="1439" y="1573.2852"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1446" y="1593.8203">Wallet</text><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="1508" y="71.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1515" y="91.8457">Ledger</text><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="61" x="1508" y="1573.2852"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="47" x="1515" y="1593.8203">Ledger</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1583" y="103.8457">Agent</text><ellipse cx="1606.5" cy="33.3105" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1606.5,41.3105 L1606.5,68.3105 M1593.5,49.3105 L1619.5,49.3105 M1606.5,68.3105 L1593.5,83.3105 M1606.5,68.3105 L1619.5,83.3105 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1583" y="1586.8203">Agent</text><ellipse cx="1606.5" cy="1599.7734" fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" rx="8" ry="8" style="stroke: #A80036; stroke-width: 2.0;"/><path d="M1606.5,1607.7734 L1606.5,1634.7734 M1593.5,1615.7734 L1619.5,1615.7734 M1606.5,1634.7734 L1593.5,1649.7734 M1606.5,1634.7734 L1619.5,1649.7734 " fill="none" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 2.0;"/><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="1640" y="71.3105"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1647" y="91.8457">Wallet</text><rect fill="#FEFECE" filter="url(#fb7gfquxmeyz7)" height="30.4883" style="stroke: #A80036; stroke-width: 1.5;" width="55" x="1640" y="1573.2852"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacingAndGlyphs" textLength="41" x="1647" y="1593.8203">Wallet</text><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1701" x="3" y="139.8096"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="139.8096" y2="139.8096"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="142.8096" y2="142.8096"/><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="28.0215" style="stroke: #000000; stroke-width: 2.0;" width="371" x="668" y="126.7988"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="357" x="674" y="147.2344">2. Meflix-DC Credential Definition Setup</text><path d="M389,169.8203 L389,194.8203 L721,194.8203 L721,179.8203 L711,169.8203 L389,169.8203 " fill="#FBFB77" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M711,169.8203 L711,179.8203 L721,179.8203 L711,169.8203 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="311" x="395" y="187.3887">Setup schema/overlay needed for consent receipt</text><polygon fill="#A80036" points="1528.5,221.4414,1538.5,225.4414,1528.5,229.4414,1532.5,225.4414" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="1534.5" y1="225.4414" y2="225.4414"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="365" x="564.5" y="220.6992">Send GetSchema for " Consent Receipt Transcript" Schema</text><polygon fill="#A80036" points="1061.5,250.752,1071.5,254.752,1061.5,258.752,1065.5,254.752" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="1067.5" y1="254.752" y2="254.752"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="492" x="564.5" y="250.0098">Create and store "Meflix-DC Consent Receipt Transcript" Credential Definition</text><polygon fill="#A80036" points="1528.5,280.0625,1538.5,284.0625,1528.5,288.0625,1532.5,284.0625" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="1534.5" y1="284.0625" y2="284.0625"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="496" x="564.5" y="279.3203">Send CredDef for "Meflix-DC Consent Receipt Transcript" Credential Definition</text><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1701" x="3" y="315.0732"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="315.0732" y2="315.0732"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="318.0732" y2="318.0732"/><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="28.0215" style="stroke: #000000; stroke-width: 2.0;" width="488" x="609.5" y="302.0625"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="474" x="615.5" y="322.498">3. Getting Consent Receipt Transcript with Meflix-DC</text><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1701" x="3" y="360.7393"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="360.7393" y2="360.7393"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="363.7393" y2="363.7393"/><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="329" x="689" y="350.084"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="311" x="695" y="366.6523">Getting Consent Receipt Transcript Credential</text><path d="M380,388.3945 L380,413.3945 L731,413.3945 L731,398.3945 L721,388.3945 L380,388.3945 " fill="#FBFB77" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M721,388.3945 L721,398.3945 L731,398.3945 L721,388.3945 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="330" x="386" y="405.9629">Prepare credential offer by selecting schema/overlay</text><polygon fill="#A80036" points="42.5,440.0156,32.5,444.0156,42.5,448.0156,38.5,444.0156" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36.5" x2="556.5" y1="444.0156" y2="444.0156"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="502" x="48.5" y="439.2734">Send authcrypted "Alice Meflix-DC Consent Receipt Transcript" Credential Offer</text><polygon fill="#A80036" points="450.5,469.3262,460.5,473.3262,450.5,477.3262,454.5,473.3262" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="456.5" y1="473.3262" y2="473.3262"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="236" x="38.5" y="468.584">Create and store "Alice" Master Secret</text><polygon fill="#A80036" points="1528.5,498.6367,1538.5,502.6367,1528.5,506.6367,1532.5,502.6367" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="1534.5" y1="502.6367" y2="502.6367"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="38.5" y="497.8945">Send GetSchema for "Transcript" Schema</text><polygon fill="#A80036" points="1528.5,527.9473,1538.5,531.9473,1528.5,535.9473,1532.5,531.9473" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="1534.5" y1="531.9473" y2="531.9473"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="411" x="38.5" y="527.2051">Send GetCredDef for "Meflix-DC Transcript" Credential Definition</text><polygon fill="#A80036" points="450.5,557.2578,460.5,561.2578,450.5,565.2578,454.5,561.2578" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="456.5" y1="561.2578" y2="561.2578"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="345" x="38.5" y="556.5156">Create "Alice Meflix-DC Transcript" Credential Request</text><polygon fill="#A80036" points="545.5,586.5684,555.5,590.5684,545.5,594.5684,549.5,590.5684" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="551.5" y1="590.5684" y2="590.5684"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="414" x="38.5" y="585.8262">Send authcrypted "Alice Meflix-DC Transcript" Credential Request</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="599.5" y1="619.8789" y2="619.8789"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="599.5" x2="599.5" y1="619.8789" y2="632.8789"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="558.5" x2="599.5" y1="632.8789" y2="632.8789"/><polygon fill="#A80036" points="568.5,628.8789,558.5,632.8789,568.5,636.8789,564.5,632.8789" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="291" x="564.5" y="615.1367">Create "Alice Meflix-DC Transcript" Credential</text><path d="M481,645.8789 L481,670.8789 L629,670.8789 L629,655.8789 L619,645.8789 L481,645.8789 " fill="#FBFB77" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M619,645.8789 L619,655.8789 L629,655.8789 L619,645.8789 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="127" x="487" y="663.4473">Store proof in wallet</text><polygon fill="#A80036" points="42.5,697.5,32.5,701.5,42.5,705.5,38.5,701.5" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36.5" x2="556.5" y1="701.5" y2="701.5"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="360" x="48.5" y="696.7578">Send authcrypted "Alice Meflix-DC Transcript" Credential</text><polygon fill="#A80036" points="450.5,726.8105,460.5,730.8105,450.5,734.8105,454.5,730.8105" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="456.5" y1="730.8105" y2="730.8105"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="283" x="38.5" y="726.0684">Store "Alice Meflix-DC Transcript" Credential</text><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1701" x="3" y="761.8213"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="761.8213" y2="761.8213"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="764.8213" y2="764.8213"/><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="28.0215" style="stroke: #000000; stroke-width: 2.0;" width="440" x="633.5" y="748.8105"/><text fill="#000000" font-family="sans-serif" font-size="17" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="426" x="639.5" y="769.2461">4. Apply for the Consent Receipt with Meflix-DP</text><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1701" x="3" y="807.4873"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="807.4873" y2="807.4873"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="810.4873" y2="810.4873"/><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="458" x="624.5" y="796.832"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="440" x="630.5" y="813.4004">Scenario 1: Consent-Receipt-Application proving by data subject</text><path d="M1013,835.1426 L1013,860.1426 L1256,860.1426 L1256,845.1426 L1246,835.1426 L1013,835.1426 " fill="#FBFB77" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1246,835.1426 L1246,845.1426 L1256,845.1426 L1246,835.1426 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="1019" y="852.7109">Prepare proof request to be verified</text><polygon fill="#A80036" points="42.5,886.7637,32.5,890.7637,42.5,894.7637,38.5,890.7637" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36.5" x2="1135.5" y1="890.7637" y2="890.7637"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="400" x="48.5" y="886.0215">Send authcrypted "Consent-Receipt-Application" Proof Request</text><polygon fill="#A80036" points="450.5,916.0742,460.5,920.0742,450.5,924.0742,454.5,920.0742" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="456.5" y1="920.0742" y2="920.0742"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="407" x="38.5" y="915.332">Get credentials for "Consent-Receipt-Application" Proof Request</text><polygon fill="#A80036" points="42.5,945.3848,32.5,949.3848,42.5,953.3848,38.5,949.3848" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="36.5" x2="461.5" y1="949.3848" y2="949.3848"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="48.5" y="944.6426">"Alice Faber Transcript" Credential</text><polygon fill="#A80036" points="1528.5,974.6953,1538.5,978.6953,1528.5,982.6953,1532.5,978.6953" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="1534.5" y1="978.6953" y2="978.6953"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="38.5" y="973.9531">Send GetSchema for "Transcript" Schema</text><polygon fill="#A80036" points="1528.5,1004.0059,1538.5,1008.0059,1528.5,1012.0059,1532.5,1008.0059" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="1534.5" y1="1008.0059" y2="1008.0059"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="379" x="38.5" y="1003.2637">Send GetCredDef for "Faber Transcript" Credential Definition</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="73.5" y1="1037.3164" y2="1037.3164"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="73.5" x2="73.5" y1="1037.3164" y2="1050.3164"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="32.5" x2="73.5" y1="1050.3164" y2="1050.3164"/><polygon fill="#A80036" points="42.5,1046.3164,32.5,1050.3164,42.5,1054.3164,38.5,1050.3164" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="38.5" y="1032.5742">Create "Alice Consent-Receipt-Application" Proof</text><polygon fill="#A80036" points="1456.5,1075.627,1466.5,1079.627,1456.5,1083.627,1460.5,1079.627" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="31.5" x2="1462.5" y1="1079.627" y2="1079.627"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="381" x="38.5" y="1074.8848">Send authcrypted "Alice Consent-Receipt-Application" Proof</text><polygon fill="#A80036" points="1528.5,1104.9375,1538.5,1108.9375,1528.5,1112.9375,1532.5,1108.9375" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1136.5" x2="1534.5" y1="1108.9375" y2="1108.9375"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="1143.5" y="1104.1953">Send GetSchema for "Transcript" Schema</text><polygon fill="#A80036" points="1528.5,1134.248,1538.5,1138.248,1528.5,1142.248,1532.5,1138.248" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1136.5" x2="1534.5" y1="1138.248" y2="1138.248"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="379" x="1143.5" y="1133.5059">Send GetCredDef for "Faber Transcript" Credential Definition</text><polygon fill="#A80036" points="1456.5,1163.5586,1466.5,1167.5586,1456.5,1171.5586,1460.5,1167.5586" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1136.5" x2="1462.5" y1="1167.5586" y2="1167.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="308" x="1143.5" y="1162.8164">Verify "Alice Consent-Receipt-Application" Proof</text><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="3" style="stroke: #EEEEEE; stroke-width: 1.0;" width="1701" x="3" y="1196.2139"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="1196.2139" y2="1196.2139"/><line style="stroke: #000000; stroke-width: 1.0;" x1="3" x2="1704" y1="1199.2139" y2="1199.2139"/><rect fill="#EEEEEE" filter="url(#fb7gfquxmeyz7)" height="23.3105" style="stroke: #000000; stroke-width: 2.0;" width="474" x="616.5" y="1185.5586"/><text fill="#000000" font-family="sans-serif" font-size="13" font-weight="bold" lengthAdjust="spacingAndGlyphs" textLength="456" x="622.5" y="1202.127">Scenario 2: Consent-Receipt-Application proving by data controller</text><path d="M1013,1223.8691 L1013,1248.8691 L1256,1248.8691 L1256,1233.8691 L1246,1223.8691 L1013,1223.8691 " fill="#FBFB77" filter="url(#fb7gfquxmeyz7)" style="stroke: #A80036; stroke-width: 1.0;"/><path d="M1246,1223.8691 L1246,1233.8691 L1256,1233.8691 L1246,1223.8691 " fill="#FBFB77" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="222" x="1019" y="1241.4375">Prepare proof request to be verified</text><polygon fill="#A80036" points="568.5,1275.4902,558.5,1279.4902,568.5,1283.4902,564.5,1279.4902" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="562.5" x2="1135.5" y1="1279.4902" y2="1279.4902"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="400" x="574.5" y="1274.748">Send authcrypted "Consent-Receipt-Application" Proof Request</text><polygon fill="#A80036" points="1061.5,1304.8008,1071.5,1308.8008,1061.5,1312.8008,1065.5,1308.8008" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="1067.5" y1="1308.8008" y2="1308.8008"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="407" x="564.5" y="1304.0586">Get credentials for "Consent-Receipt-Application" Proof Request</text><polygon fill="#A80036" points="568.5,1334.1113,558.5,1338.1113,568.5,1342.1113,564.5,1338.1113" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="562.5" x2="1072.5" y1="1338.1113" y2="1338.1113"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="215" x="574.5" y="1333.3691">"Alice Faber Transcript" Credential</text><polygon fill="#A80036" points="1528.5,1363.4219,1538.5,1367.4219,1528.5,1371.4219,1532.5,1367.4219" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="1534.5" y1="1367.4219" y2="1367.4219"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="564.5" y="1362.6797">Send GetSchema for "Transcript" Schema</text><polygon fill="#A80036" points="1528.5,1392.7324,1538.5,1396.7324,1528.5,1400.7324,1532.5,1396.7324" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="1534.5" y1="1396.7324" y2="1396.7324"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="379" x="564.5" y="1391.9902">Send GetCredDef for "Faber Transcript" Credential Definition</text><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="599.5" y1="1426.043" y2="1426.043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="599.5" x2="599.5" y1="1426.043" y2="1439.043"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="558.5" x2="599.5" y1="1439.043" y2="1439.043"/><polygon fill="#A80036" points="568.5,1435.043,558.5,1439.043,568.5,1443.043,564.5,1439.043" style="stroke: #A80036; stroke-width: 1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="312" x="564.5" y="1421.3008">Create "Alice Consent-Receipt-Application" Proof</text><polygon fill="#A80036" points="1456.5,1464.3535,1466.5,1468.3535,1456.5,1472.3535,1460.5,1468.3535" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="557.5" x2="1462.5" y1="1468.3535" y2="1468.3535"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="381" x="564.5" y="1463.6113">Send authcrypted "Alice Consent-Receipt-Application" Proof</text><polygon fill="#A80036" points="1528.5,1493.6641,1538.5,1497.6641,1528.5,1501.6641,1532.5,1497.6641" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1136.5" x2="1534.5" y1="1497.6641" y2="1497.6641"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="255" x="1143.5" y="1492.9219">Send GetSchema for "Transcript" Schema</text><polygon fill="#A80036" points="1528.5,1522.9746,1538.5,1526.9746,1528.5,1530.9746,1532.5,1526.9746" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1136.5" x2="1534.5" y1="1526.9746" y2="1526.9746"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="379" x="1143.5" y="1522.2324">Send GetCredDef for "Faber Transcript" Credential Definition</text><polygon fill="#A80036" points="1456.5,1552.2852,1466.5,1556.2852,1456.5,1560.2852,1460.5,1556.2852" style="stroke: #A80036; stroke-width: 1.0;"/><line style="stroke: #A80036; stroke-width: 1.0;" x1="1136.5" x2="1462.5" y1="1556.2852" y2="1556.2852"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacingAndGlyphs" textLength="308" x="1143.5" y="1551.543">Verify "Alice Consent-Receipt-Application" Proof</text><!--
@startuml

box "Alice (Data Subject / Holder)" #LightBlue
actor "Agent" as A
participant "Wallet" as AW
endbox

box "Meflix-DC Operator (Data Controller & Issuer)" #LightYellow
actor "Agent" as MDC
participant "Wallet" as MDCW
endbox

box "Meflix-DP Operator (Data Processor & Verifier)" #LightYellow
actor "Agent" as MDP
participant "Wallet" as MDPW
endbox

participant "Ledger" as L

box "Sovrin Steward" #LightYellow
actor "Agent" as S
participant "Wallet" as SW
endbox

=== 2. Meflix-DC Credential Definition Setup ==
note over MDC: Setup schema/overlay needed for consent receipt
MDC->L: Send GetSchema for " Consent Receipt Transcript" Schema
MDC->MDCW: Create and store "Meflix-DC Consent Receipt Transcript" Credential Definition
MDC->L: Send CredDef for "Meflix-DC Consent Receipt Transcript" Credential Definition

=== 3. Getting Consent Receipt Transcript with Meflix-DC ==
== Getting Consent Receipt Transcript Credential ==
note over MDC: Prepare credential offer by selecting schema/overlay
MDC->A: Send authcrypted "Alice Meflix-DC Consent Receipt Transcript" Credential Offer
A->AW: Create and store "Alice" Master Secret
A->L: Send GetSchema for "Transcript" Schema
A->L: Send GetCredDef for "Meflix-DC Transcript" Credential Definition
A->AW: Create "Alice Meflix-DC Transcript" Credential Request
A->MDC: Send authcrypted "Alice Meflix-DC Transcript" Credential Request
MDC->MDC: Create "Alice Meflix-DC Transcript" Credential
note over MDC: Store proof in wallet
MDC->A: Send authcrypted "Alice Meflix-DC Transcript" Credential
A->AW: Store "Alice Meflix-DC Transcript" Credential

=== 4. Apply for the Consent Receipt with Meflix-DP ==
== Scenario 1: Consent-Receipt-Application proving by data subject ==
note over MDP: Prepare proof request to be verified
MDP->A: Send authcrypted "Consent-Receipt-Application" Proof Request
A->AW: Get credentials for "Consent-Receipt-Application" Proof Request
AW->A: "Alice Faber Transcript" Credential
A->L: Send GetSchema for "Transcript" Schema
A->L: Send GetCredDef for "Faber Transcript" Credential Definition
A->A: Create "Alice Consent-Receipt-Application" Proof
A->MDPW: Send authcrypted "Alice Consent-Receipt-Application" Proof
MDP->L: Send GetSchema for "Transcript" Schema
MDP->L: Send GetCredDef for "Faber Transcript" Credential Definition
MDP->MDPW: Verify "Alice Consent-Receipt-Application" Proof

== Scenario 2: Consent-Receipt-Application proving by data controller ==
note over MDP: Prepare proof request to be verified
MDP->MDC: Send authcrypted "Consent-Receipt-Application" Proof Request
MDC->MDCW: Get credentials for "Consent-Receipt-Application" Proof Request
MDCW->MDC: "Alice Faber Transcript" Credential
MDC->L: Send GetSchema for "Transcript" Schema
MDC->L: Send GetCredDef for "Faber Transcript" Credential Definition
MDC->MDC: Create "Alice Consent-Receipt-Application" Proof
MDC->MDPW: Send authcrypted "Alice Consent-Receipt-Application" Proof
MDP->L: Send GetSchema for "Transcript" Schema
MDP->L: Send GetCredDef for "Faber Transcript" Credential Definition
MDP->MDPW: Verify "Alice Consent-Receipt-Application" Proof

@enduml

PlantUML version 1.2018.12(Sun Oct 21 12:15:15 CEST 2018)
(GPL source distribution)
Java Runtime: Java(TM) SE Runtime Environment
JVM: Java HotSpot(TM) 64-Bit Server VM
Java Version: 1.8.0_65-b17
Operating System: Mac OS X
OS Version: 10.13.4
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>